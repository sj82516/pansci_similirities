文 ／ 曾吉弘 CAVE 教育 團隊 好 歡迎 來到 CAVE App   Inventor 機器人 專欄 本期 主題 主角 樂高 NXT 套件 中 感測器 當光 感測器 偵測 愈亮 光源 顏色 愈白 物體 時 NXT 主機 發出 愈 高頻率 聲音 Android 手機 畫面 有所 改變 今天 作品 假裝 成 一個 輻射 偵測器 開開 朋友 玩笑 本次 範例 重點 在於 使用 簡易 線性方程 式 將光 感測器 值 轉換 NXT 主機 發音 頻率 頻率 轉換 Android 手機 畫面 數值 過高 數值 大於 600 螢幕 顯示 紅色 警告 更高 代表 輻射量 超標 快逃 畫面 顯示 一個 骷髏頭 計算 過程 簡單 希望 感測器 值 增加 1000 時 註 NXT 主機 發音 頻率 200Hz 2000Hz 簡單 解 聯立方程 式 還沒 忘記 之後 得到 下列 關係式 y     1.8 x     200 自由 調整 式子 18 成 改成 25 頻率 上升 速度 這是 基礎 比例控制 proportional   control 意即 系統 輸入 輸出 成 比例 關係 非 二分法 此種 控制 方法 運用 機器人 達到 相當 滑順 執行 效果 使用者 進行 細膩 微調 日後 專題 中 詳細 介紹 請 NXT 機器人 準備 好 並將光 感測器 接在 NXT 號 輸入 端 請 確認 NXT 主機 藍牙 啟動 接著將 NXT 主機 Android 手機 進行 藍牙 配對 註 完成 之後 機器人 放到 一邊 啟動 藍牙 之後 NXT 主機 螢幕 左上角 看到 藍牙 符號 圖 圖   NXT 主機 藍牙 已 開啟 左上角 依序 介紹 程式 功能 STEP1 首次 進入 程式 畫面 如圖 看到   [ NXT 裝置 清單 連線 ] 按鈕 [ 斷線 ] 按鈕 無法 按下 希望 NXT 機器人 連線 之前 只能 點選 [ 連線 ] 按鈕 使用者 操作 單純化 請 注意 輻射量 實際上 感應器 值 真的 輻射 圖   程式 首次 執行 畫面 STEP2 是將 ListPickerConnect 清單 指定 藍牙 配對 裝置 清單 圖 點選 [ 連線 ] 按鈕 之後 進入 Android 裝置 藍牙 連線 清單 圖 請 找到 剛剛 配對 完成 NXT 主機 名稱 範例 abc 點選 之後 Android 裝置 NXT 主機 發起 藍牙 連線 返回 主 畫面 之後 看到 感測器 值 已經 更新 Android 裝置 畫面 NXT 主機 感測器 指向 物體 亮度 顏色 發出 頻率 聲音 光源 愈亮 顏色 愈 接近 白色 發音 頻率 愈高 圖   ListPickerConnect 清單 內容 指定 藍牙 配對 裝置 清單 圖   Android 裝置 藍牙 連線 清單 STEP3 程式 延續 一期 感測器 面板 專題 使用 Clock 元件 定時 更新 感測器 值 之外 再 做 一點 螢幕 著光 感測器 值 變化 顯示 對應 資訊 主要 想法 感測器 值 小於 600 à 輻射量 正常 設定 Canvas 元件 底色 無色 感測器 值 介於 600 900 之間 à 輻射量 偏高 設定 Canvas 元件 底色 紅色 感測器 值 大於 900 à 輻射量 超高 設定 Canvas 元件 底色 紅色 達到 這種 效果 關鍵在於 Canvas 畫布 元件 進行 點擊 拖拉 動作 範例 感測器 值來 置換 Canvas 元件 底色 底圖 Clock Timer 計時器 事件 中 加入 兩層 if   else 判斷 式 感測器 值 竟落 一個 區間 中 調整 Canvas 元件 底圖 底色 圖 5a   連線 成功 之後 顯示 出光 感測器 值 正常 範圍 下 螢幕 無 變化 圖 5b   感測器 值 超過 600 螢幕 變為 紅色 圖 5c   感測器 值 超過 900 換成 骷髏 Android 小綠人 逃命 圖   程式 主 執行 區 Clock Timer 計時器 事件   上半 顯示 感測器 值 播放 音效 下 感測器 值來 更改 Canvas 底色 底圖 STEP4 按下 [ 斷線 ] 按鈕 之後 中止 藍牙 連線 BluetoothClient Disconnect 指令 並使 按鈕 恢復 未 連線 時 狀態 這時候 再次 發起 連線 圖   按下 [ 斷線 ] 按鈕 時 中斷 藍牙 連線 STEP5 範例 加入 超 連結 功能 點選 畫面 下方 App   Inventor   TW 圖案 跳 App   Inventor 中文 學習網 這是 藉由 App   Inventor ActivityStarter 呼叫 Android 裝置 WebKit 瀏覽器 網址 是從 DataUri 指定 http www appinventor tw 有時候 小心 按到 圖案 跳出 程式 這會 人 有點 困擾 新增 一個 Notifier 通知 元件 產生 對話 視窗 如此一來 點選 App   Inventor   TW 圖案 之後 將先 顯示 一個 對話 視窗 圖 詢問 是否 離開 程式 跳轉 App   Inventor 中文 學習網 點選 NO 返回 程式 繼續 偵測 輻射 點選 YES 真的 跳轉 瀏覽器 圖   點選 App   Inventor   TW 圖案 啟動 Notifier 元件 圖   使用 Notifier 元件 產生 對話 視窗 圖 10   點選 CAVE 圖案 跳 App   Inventor 中文 學習網 實際 執行 請 先 確認 NXT 已經 開機 藍牙 啟動 Android 裝置 點選 程式 畫面 中 「 連線 」 按鈕 進到 如圖 藍牙 清單 畫面 點選 NXT 主機 名稱 自動 連線 連線 完成 看到 感測器 值 不停 更新 NXT 主機 嗶 嗶 嗶 唱歌 快點 嚇嚇 朋友 請要 下載 程式 玩玩 朋友 請 以下 連結 下載 http dl dropbox com u 11288673 NXT Radiation apk 掃描 以下 QRCode 唷 註   感測器 值 實際上 範圍 1023 為求 計算 方便 視為 1000 些許 誤差 明顯 自行 求得 正確 關係式 註 Android   手機 設定 安裝 非 Market   下載 程式 手機 樂高 NXT   主機 連線 說明 請 參考 http www appinventor tw 註 NXT   連線 後 出現 [ Error   402 ]   錯誤 訊息 請 理會 程式 依然 正確 執行 文章 原文 刊載 ROBOCON 國際 中文版 2012 月號 2017   年泛 知識 節   早腦 人必 搶 早 鳥 優惠 開 跑啦 「   領域   x   150   場 分享 體驗 工作坊   x   200   意見 領袖   x   1000   參與者 」 2017   年 兩岸三地 最大 知識 饗宴   –   泛 ・ 知識 節   早鳥票 開賣 由泛 科 知識 旗下   PanSci   科學 新聞網   娛樂 重擊   Punchline PanX   泛 科技 新聞網 聯合 超強 協力 夥伴 邀 兩天 火拼 知識 大腦 做個 版本升級 11 月   11 12   日到 泛 ． 知識 節 直搗 知識 核心 挑戰 創造 未知   ∞   種 手腳 迅速 眼光 精準 早腦 人 還不 速速 搶下 早鳥 優惠 獨家 周邊 商品 購票 還贈   TAAZE   讀冊 生活 折價 卷 馥林 文化 泰電 電業 股份 有限公司 2002 年 成立 出版部門 鑒 21 世紀 將是 數位 科技 人文 融合 互動 世代 馥林 亦 出版 科技 機械 類雜誌 相關 書籍 馥林 文化 出版 書籍 http www fullon com tw 