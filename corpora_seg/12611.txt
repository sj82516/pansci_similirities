文 ／ 曾吉弘 CAVE 教育 團隊 http www cavedu com 手機 遙控 機器人 聽 很酷 系列 專題 告訴您 使用 Android 裝置 控制 樂高 NXT 機器人 寫 Android 先 學會 Java 才行 擔心 開發 環境 使用 Google   App   Inventor 這是 一個 完全 圖形化 線 Android 程式 開發 環境 不用 寫 可怕 Java 程式 程式碼 「 拼 」 寫 程式 心情 好 NXT 機器人 準備 好 並將 NXT 左側 馬達 接 輸出 端 B 右側 則是 輸出 端 C 圖 請 先 確認 NXT 主機 藍牙 啟動 請將 NXT 主機 Android 手機 進行 藍牙 配對 完成 之後 機器人 放到 一邊 啟動 藍牙 之後 NXT 主機 螢幕 左上角 看到 藍牙 符號 圖 所有 控制 程式 Android 端 完成 樂高 機器人 特殊 直接 控制指令 機器人 執行 程式 情況 下 接收 正確 藍牙 指令 動作 專心 App   Inventor 程式 好 足足 省下 一半 功夫 目前 Google 正 移轉 App   Inventor 伺服器 麻省理工學院 行動 研究 中心 程式 說明 App   Inventor 程式 元件 簡單 易懂 先 介紹 一下 形狀 元件 意義 行為 模式 請 下圖 綠色 ㄈ 字型 積木 代表 某種 狀況 是否 發生 發生 執行 底下 動作 紫色 積木 執行 某種 動作 開啟 視窗 更換 顏色 右側 凹槽 用來 指定 參數 來調 程式 效果 左側 凸起 淺綠色 積木 代表 參數 一段 程式 表達 ButtonBeep 按鈕 下 時 呼叫 NxtdirectCommand PlayTone 指令 NXT 主機 發出 頻率 880 音效 La 時間 300 毫秒 0.3 秒 依序 介紹 城市 功能 STEP1 Screen1 Initialize 代表 程式 執行 時 執行 初始化 內容 看到 [ 連線 ] 按鈕 之外 按鈕 淺 灰色 這時候 按鈕 Enabled 屬性 設為 false NXT 機器人 連線 之前 按鈕 無 意義 這時候 只能 點選 [ 連線 ] 按鈕 STEP2 點選 [ 連線 ] 按鈕 之後 進入 Android 裝置 藍牙 連線 清單 請 找到 剛剛 配對 完成 NXT 主機 名稱 範例 abc 點選 之後 Android 裝置 NXT 主機 發起 藍牙 連線 跳 回主 畫面 之後 看到 按鈕 圖 圖 圖 請 注意 NXTList AfterPicking 事件 中 加入 一個 if 判斷 是否 成功 建立 藍牙 連線 BluetoothClient Connect 處理 非 預期 情況 下 斷線 情形 避免 程式 發生 錯誤 STEP3 控制 機器人 前進 後退 左 右轉 按鈕 一次 講完 圖 按下 ButtonForward 按鈕 之後 機器人 左右 馬達 皆 最大 電力 100 正轉 電力 值 範圍 是從 停止 100 最 高速 自由 調整 電力 參數 機器人 運動 效果 有趣 STEP4 機器人 只會 走路 不夠 還得 停得 下來 還加 一個 「 嗶 嗶 」 按鈕 點選 按鈕 NXT 機器人 發出 La 音 0.3 秒 「 嗶 嗶 」 按鈕 請 回顧 圖 說明 STEP5 按下 [ 斷線 ] 按鈕 之後 斷開 藍牙 連線 BluetoothClient Disconnect 並使 按鈕 恢復 未 連線 時 狀態 圖 11 這時候 再次 發起 連線 STEP6 注意 畫面 CAVE 圖案 點選 之後 跳到 CAVE 官方網站 這是 藉由 App   Inventor ActivityStarter 呼叫 Android 裝置 WebKit 瀏覽器 網址 是從 DataUri 指定 http www cavedu com 實際 執行 請 先 確認 NXT 已經 開機 藍牙 啟動 Android 裝置 點選 程式 畫面 中 「 連線 」 按鈕 進到 如圖 藍牙 清單 畫面 點選 NXT 主機 名稱 自動 連線 連線 完成 之後 NXT 主機 左上角 藍牙 圖示 改為 連線 中 狀態 圖 13 完工 不快 開著 機器人 探險 請要 下載 程式 玩玩 朋友 請 以下 連結 下載 http dl dropbox com u 11288673 NXT ButtonControl apk 掃描 以下 QRCode 唷 註 App   Inventor 伺服器 目前 正由 Google 移轉 麻省理工學院 行動 研究 中心 預計 近日 推出 新 服務 使用 介面 將無 重大 改變 過渡 期間 想要 申請 測試 帳號 讀者 請 以下 連結 申請 http appinventoredu mit edu 註 CAVE 教育 團隊 提供 App   Inventor 指令 中 文化 手冊 請 http www appinventor tw 下載 註 將您 手機 設定 自行 安裝 非 Market 下載 程式 請 參考 http www appinventor tw phone 註 Android 手機 樂高 NXT 主機 連線 詳細 步驟 請 參考 http www appinventor tw connecttonxt 文章 原文 刊載 ROBOCON 國際 中文版 2012 月號 2017   年泛 知識 節   早腦 人必 搶 早 鳥 優惠 開 跑啦 「   領域   x   150   場 分享 體驗 工作坊   x   200   意見 領袖   x   1000   參與者 」 2017   年 兩岸三地 最大 知識 饗宴   –   泛 ・ 知識 節   早鳥票 開賣 由泛 科 知識 旗下   PanSci   科學 新聞網   娛樂 重擊   Punchline PanX   泛 科技 新聞網 聯合 超強 協力 夥伴 邀 兩天 火拼 知識 大腦 做個 版本升級 11 月   11 12   日到 泛 ． 知識 節 直搗 知識 核心 挑戰 創造 未知   ∞   種 手腳 迅速 眼光 精準 早腦 人 還不 速速 搶下 早鳥 優惠 獨家 周邊 商品 購票 還贈   TAAZE   讀冊 生活 折價 卷 早鳥 優惠 只到   10 27 