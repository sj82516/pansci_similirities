文 ／ 曾吉弘 CAVE 教育 團隊 最近 溫度 屢破 新高 做 一台 機器人 幫 分勞 解憂 本期 CAVE App   Inventor 機器人 專欄 延續 七月 號的 [ 單點 觸控 ] 這次 請 使用 左右手 姆指 控制 樂高 機器人 左手 拇指 控制 機器人 左側 馬達 正反 轉動 右手 右側 馬達 囉 範例 使用 兩個 畫布 Canvas 元件 分別 追蹤 畫布 觸控點 Y 軸向 變化 量 後 轉換 馬達 電力 相較 [ 單點 觸控 ] 用到 atan sin cos 三角函數 本次 程式 相 之下 簡單 圖   使用 左右手 拇指 螢幕上 滑動 請 NXT 機器人 準備 好 並將 左側 馬達 接在 NXT 輸出 端 B 右側 則是 輸出 端 C 註 請 確認 NXT 主機 藍牙 啟動 接著將 NXT 主機 Android 手機 進行 藍牙 配對 註 完成 之後 機器人 放到 一邊 啟動 藍牙 之後 NXT 主機 螢幕 左上角 看到 藍牙 符號 依序 介紹 程式 功能 STEP1   登入 畫面 首次 進入 程式 畫面 如圖 2a 觸控板 隱藏   [ 連線 ] 按鈕 所有 按鈕 無法 操作 點選 [ 連線 ] 按鈕 後 進入 藍牙 裝置 清單 圖 2b 請 找到 剛剛 配對 完成 NXT 主機 名稱 範例 abc 點選 之後 Android 裝置 NXT 主機 發起 藍牙 連線 順利 連線 成功 看到 兩個 黃色 觸控板 出現 可愛 CAVE 小 圖案 圖 2c 圖 2a 左   程式 首次 執行 畫面 圖 2b 中   點選 連線 按鈕 後 進入 藍牙 裝置 清單 圖 2c 右   連線 成功 後 出現 觸控板 STEP2   程式 初始化 程式 初始化 Screen1 Initialize 事件 時 NXTList 清單 指定 藍牙 配對 裝置 清單 圖 3a 連線 之前 無法 看到 黃色 觸控板 先將 隱藏 連線 成功 之後 圖 3b 顯示 觸控板 原本 無法 按下 「 停止 」 「 Orientation   ON 」 「 斷線 」 按鈕 操作 圖 3a   指定 藍牙 配對 裝置 清單 隱藏 觸控板 圖 3b   連線 成功 後 開啟 觸控板 STEP3   方位 感測器 旋轉 CAVE 小 圖案 本次 程式 一個 附加 功能 CAVE 小 圖案 手機 指 向來 轉動 這是 藉由 擷取 Android 裝置 方位 感測器 Orientation   sensor Z 軸 數值 完成 方位 感測器 值 發生變化 azimuth 變數 自動更新 將它 指定 CAVE 小 圖案 指向 欄位 ImageSprite L Heading ImageSprite R Heading 圖   方位 感測器 值來 改變 小 圖案 指向 STEP4   計算 馬達 電力 使用 兩個 Canvas 分別 控制 機器人 左右 兩顆 馬達 兩側 觸控 程式 概念 相同 此僅 說明 左側 Canvas L Dragged 拖拉 事件 Lpower 設為 150 CurrentY     150 CurrentY 觸控點 Y 座標 Canvas 高度 300 像素 這樣一來 手指頭 畫布 中央 時 Lpower 向上 移動 正 向下 則為負 接著將 Lpower 數值 顯示 標籤 LabelB 使用 ImageSprite MoveTo 指令 XY 欄位 指定 20 CurrentY 30 手指 拉著 可愛 CAVE 小 圖案 走 CurrentY 30 原因 CAVE 小 圖案 尺寸 60   x   60 需要 30 像素 修正 量 注意 範例 只 使用 觸控點 Y 軸向 變化 X 欄位 固定 20 左右 移動 姆指 CAVE 小 圖案 移動 最後 B 馬達 電力 指定 Lpower 變數 值 黃色 觸控板 移動 左手 拇指 時 B 馬達 轉動 向上 移動 正轉 向下 則為 反轉 手指頭 螢幕 中心 愈遠 轉愈 圖 5a   左側 Canvas Dragged 拖拉 事件 圖 5b   右側 Canvas Dragged 拖拉 事件 注意 右側 拖拉 事件 中 使用 一個 ceiling 四捨五入 指令 計算結果 直接 取 整數 從圖 9a 圖 9c 中 看到 使用 ceiling 指令 Lpower 值 小數點 Rpower 則無 小數點 STEP5   開 關 方位 感測器 覺得 CAVE 小 圖案 轉來轉去 有點 頭暈 新增 一個 Button Orientation 按鈕 來開 關 方位 感測器 OrientationSensor1 Enabled 指令 方位 感測器 關閉 之後 小 圖案 自動 歸正 Heading 欄位 設為 請 注意 設定 方位 感測器 是否 可用 拉動 CAVE 小 圖案 控制 機器人 圖 6a   藉由 Button Orientation 按鈕 開關 方位 感測器 圖 6b   方位 感測器 開 CAVE 小 圖案 手機 指向 轉動 圖 6c   方位 感測器 關 CAVE 小 圖案 自動 歸正 STEP6   按下 停止 按鈕 按下 [ 停止 ] 按鈕 之後 執行 三件 事   停下 機器人   標籤 數值 歸零   使 兩個 CAVE 小 圖案 歸位 圖   按下 停止 按鈕 停下 機器人 並使 ImageSprite 歸位 STEP7   斷線 按下 [ 斷線 ] 按鈕 之後 中止 藍牙 連線 BluetoothClient Disconnect 指令 並使 按鈕 恢復 未 連線 時 狀態 黃色 觸控板 看不到 這時候 再次 發起 連線 圖   按下 [ 斷線 ] 按鈕 時 中斷 藍牙 連線 操作 實際 執行 請 先 確認 NXT 已經 開機 藍牙 啟動 Android 裝置 點選 程式 畫面 中 「 連線 」 按鈕 進到 如圖 2a 藍牙 清單 畫面 點選 NXT 主機 名稱 連線 成功 後 出現 兩個 黃色 觸控板 分別 畫面 移動 左右 拇指 機器人 動 操作 方式 相當 直覺 一定 喜歡 從觸 碰板 下方 標籤 看到 左右 馬達 電力 值 範圍 100 100 之間 操作過程 中 隨時 點選 Button Orientation 按鈕 開關 方位 感測器 圖 9a   兩個 姆指 機器人 前進 方位 感測器 關閉 圖 9b   兩個 姆指 下 機器人 後退 方位 感測器 開啟 圖 9c   兩個 姆指 左下 右 機器人 原地 右轉 方位 感測器 開啟 絕大部分 Android 裝置 多點 觸碰 功能 特別 兩次 專欄 介紹 單點 雙點 控制 樂高 機器人 動作 雙點 觸控 只取 個別 觸控點 Y 軸 變化 程式 結構 比較簡單 範例 新增 方位 感測器 使 CAVE 小 圖案 手機 指向 旋轉 使用 Android 手機 感測器 控制 機器人 請 繼續 注意 CAVE 機器人 專欄 唷 歡迎 連結 下載 程式 玩玩 掃描 以下 QRCode 唷 有趣 機器人 app 請 Google   Play 搜尋 「 CAVE 教育 團隊 」 找 得到 註 機器人 運動 方向 車頭 指向 程式 設定 相反 左右 馬達 電線 互換 即可 註 Android 手機 設定 安裝 非 Market 下載 程式 手機 樂高 NXT 主機 連線 說明 請 參考 連結 註   NXT 連線 後 出現 [ Error   402 ] 錯誤 訊息 請 理會 程式 依然 正確 執行 文章 原文 刊載 ROBOCON 國際 中文版 2012 月號 2017   年泛 知識 節   早腦 人必 搶 早 鳥 優惠 開 跑啦 「   領域   x   150   場 分享 體驗 工作坊   x   200   意見 領袖   x   1000   參與者 」 2017   年 兩岸三地 最大 知識 饗宴   –   泛 ・ 知識 節   早鳥票 開賣 由泛 科 知識 旗下   PanSci   科學 新聞網   娛樂 重擊   Punchline PanX   泛 科技 新聞網 聯合 超強 協力 夥伴 邀 兩天 火拼 知識 大腦 做個 版本升級 11 月   11 12   日到 泛 ． 知識 節 直搗 知識 核心 挑戰 創造 未知   ∞   種 手腳 迅速 眼光 精準 早腦 人 還不 速速 搶下 早鳥 優惠 獨家 周邊 商品 購票 還贈   TAAZE   讀冊 生活 折價 卷 早鳥 優惠 只到   10 27 